# LEL
#
#  _____      ____ _ _   _ 
# / __\ \ /\ / / _` | | | |
# \__ \\ V  V / (_| | |_| |
# |___/ \_/\_/ \__,_|\__, |
#                    |___/ 

# Variables {{{
#   
    # Logo key.
    set $mod Mod4
    # Home row direction keys, like vim
    set $left h
    set $down j
    set $up k
    set $right l

    set $term kitty
    set $menu wofi --show drun -i -p'Iniciar: '
	font pango:Hack 14px

# }}}
# Output configuration {{{
#
    output * bg '#252525' solid_color

    # output HDMI-A-1 resolution 720x576

    #Disable laptop screen if closed, --reload is important
    set $laptop eDP-1
    bindswitch --reload lid:on output $laptop disable
    bindswitch --reload lid:off output $laptop enable
    # output $laptop disable
    # bindsym $mod+o output eDP-1 toggle

    # Backlight settings for laptops
    exec sudo light -N 1
    bindsym XF86MonBrightnessUp   exec sudo light -A 5
    bindsym XF86MonBrightnessDown exec sudo light -U 5

# }}}
# Input configuration {{{
#   
    input "1739:30966:Synaptics_TM3096-006" {
        dwt enabled
        natural_scroll enabled
        tap enabled
    }

    input * {
        xkb_layout br
        xkb_numlock enabled
    }
# }}}
# Key bindings: {{{
    # Basic {{{
    #
    # Start a terminal
    bindsym $mod+Return exec $term 
    
    #start web browser
    bindsym $mod+q exec qutebrowser

    #start file manager
    bindsym $mod+m exec nemo

    # Kill focused window
    bindsym $mod+x kill 

    # Start your launcher
    bindsym $mod+d exec $menu 

    # Fill passwords
    bindsym Control+$mod+p exec keepmenu

    # mouse button for dragging.
    floating_modifier $mod normal

    # Reload the configuration file
    bindsym $mod+Shift+c reload 

    # Lock Sway
    bindsym $mod+Control+s exec swaylock

    # Exit sway (logs you out of your Wayland session)
    bindsym $mod+Shift+e exec swaynag -t warning -m 'Do you really want to exit sway?' -b 'Yes, exit sway' 'swaymsg exit'

    # }}}
    # Moving around: {{{
    #
    # Move your focus around
    bindsym $mod+$left focus left
    bindsym $mod+$down focus down
    bindsym $mod+$up focus up
    bindsym $mod+$right focus right
    bindsym $mod+Left focus left
    bindsym $mod+Down focus down
    bindsym $mod+Up focus up
    bindsym $mod+Right focus right

    # Move the focused window with the same, but add Shift
    bindsym $mod+Shift+$left move left
    bindsym $mod+Shift+$down move down
    bindsym $mod+Shift+$up move up
    bindsym $mod+Shift+$right move right

    # Resizing containers:
    bindsym $mod+Control+$left resize shrink width 10px
    bindsym $mod+Control+$down resize grow height 10px
    bindsym $mod+Control+$up resize shrink height 10px
    bindsym $mod+Control+$right resize grow width 10px

    # }}}
    # Workspaces: {{{
    #
    # Switch to workspace
    bindsym $mod+1 workspace 1
    bindsym $mod+2 workspace 2
    bindsym $mod+3 workspace 3
    bindsym $mod+4 workspace 4
    bindsym $mod+5 workspace 5
    bindsym $mod+6 workspace 6
    bindsym $mod+7 workspace 7
    bindsym $mod+8 workspace 8
    bindsym $mod+9 workspace 9
    bindsym $mod+0 workspace 10
    # Move focused container to workspace
    bindsym $mod+Shift+1 move container to workspace 1
    bindsym $mod+Shift+2 move container to workspace 2
    bindsym $mod+Shift+3 move container to workspace 3
    bindsym $mod+Shift+4 move container to workspace 4
    bindsym $mod+Shift+5 move container to workspace 5
    bindsym $mod+Shift+6 move container to workspace 6
    bindsym $mod+Shift+7 move container to workspace 7
    bindsym $mod+Shift+8 move container to workspace 8
    bindsym $mod+Shift+9 move container to workspace 9
    bindsym $mod+Shift+0 move container to workspace 10

    # Assign programs to their workspace
    assign [app_id=org.qutebrowser.qutebrowser] workspace 2
    assign [app_id=telegramdesktop] workspace 10
    assign [class=discord] workspace 10

    # }}}
    # Layout stuff: {{{
    # 
    # Splits
    bindsym $mod+b splith
    bindsym $mod+v splitv

    # Layout styles
    bindsym $mod+s layout stacking
    bindsym $mod+w layout tabbed
    bindsym $mod+e layout toggle split

    # Make the current focus fullscreen
    bindsym $mod+f fullscreen

    # Floating
    bindsym $mod+Shift+space floating toggle
    bindsym $mod+space focus mode_toggle

    # Move focus to the parent container
    bindsym $mod+a focus parent
    # }}}
    # Scratchpad: {{{
    #
    # Move the currently focused window to the scratchpad
    bindsym $mod+Shift+minus move scratchpad
    # Show the next scratchpad window
    bindsym $mod+minus scratchpad show
    #}}}
    # Screenshots: {{{
    # 

    # Screens to file
    bindsym Print exec grim $(xdg-user-dir PICTURES)/$(date +'%Y-%m-%d-%H%M%S_grim.png')

    # Screen area to file
    bindsym Shift+Print exec grim -g "$(slurp)" $(xdg-user-dir PICTURES)/$(date +'%Y-%m-%d-%H%M%S_grim-slurp.png')

    # Screen area to clipboard
    bindsym Control+Shift+Print exec grim -g "$(slurp)" - | wl-copy

    # Focused monitor to clipboard
    bindsym Control+Print exec grim -o $(swaymsg -t get_outputs | jq -r '.[] | select(.focused) | .name') - | wl-copy

    # Screen recorder
    bindsym Control+Alt+Shift+r exec wf-recorder -a 

    # }}}
    # Audio: {{{
    #
    bindsym $mod+p exec pulse-sink
    for_window [app_id="pavucontrol"] floating enable

    # Volume controll
    bindsym XF86AudioRaiseVolume exec  pavolume volup   5
    bindsym XF86AudioLowerVolume exec  pavolume voldown 5
    bindsym XF86AudioMute        exec  pavolume mutetoggle

    # Media player controls
    bindsym XF86AudioPlay   exec    mpc     toggle
    bindsym XF86AudioNext   exec    mpc     next
    bindsym XF86AudioPrev   exec    mpc     prev
    bindsym $mod+Shift+x    exec    musmenu delete
    bindsym $mod+Shift+s    exec    musmenu search

    # }}}
# }}}
# Visual: {{{
#
    exec flashfocus -o .5

    set $accent     #CC575D
    set $aclite     #CC575D50
    set $fg_color   #ffffff
    set $bg_color   #191919
    set $bg_darker  #151515
    set $alert      #000000

    #                       border      background  text        indicator   child_border
    client.focused          $accent     $accent     $fg_color   $accent     $accent
    client.focused_inactive $bg_color   $bg_color   $fg_color   $bg_color   $bg_color
    client.unfocused        $bg_color   $bg_color   $fg_color   $bg_color   $bg_color
    client.urgent           $alert      $alert      $fg_color   $alert      $alert

    bar swaybar_command waybar
    # bar mode hide
    # bar position top

    default_border pixel 2px
    gaps inner 5px

    smart_gaps on
	smart_borders on

    for_window [app_id=mpv] floating toggle

    # set theme
    set $gnome-schema org.gnome.desktop.interface
    exec_always {
        kvantummanager --set Materia
        gsettings set $gnome-schema gtk-theme 'materia-custom-accent'
        gsettings set $gnome-schema icon-theme 'Papirus'
        gsettings set $gnome-schema cursor-theme 'capitaine-cursors'
    }

# }}}
# Daemons {{{
#

    #Notification Daemon
    exec mako
    # Block device Mounter to /run/media/<username>
    exec udiskie
    # Blue light filter
    exec redshift
    # kde connect
    exec /usr/lib/kdeconnectd
    exec kdeconnect-indicator
    # Telegram
    exec telegram-desktop
    # Music Player Daemon
    exec 'mpd --no-daemon'
    exec mpDris2
    # lock screen after a period of inactivity execp for fullscreen
    for_window [class=.*] inhibit_idle fullscreen
    exec swayidle -w \
       before-sleep 'swaylock -f' \
       lock swaylock \
       timeout 900 'swaylock -f' \
       # timeout 1800 'swaymsg "output * dpms off"' \
       #      resume 'swaymsg "output * dpms on;reload"' \
#}}}

include /etc/sway/config.d/*
# vim:filetype=i3config:foldmethod=marker
